========================================================================================================
                    GU√çA PASO A PASO - TRABAJO INTEGRADOR PROGRAMACI√ìN III
                              FRONTEND + BACKEND + BASE DE DATOS
                                    üéÆ TIENDA GAMER üéÆ
========================================================================================================

üéÆ TEM√ÅTICA DEL PROYECTO: GAMEVERSE - TIENDA GAMING ONLINE
==========================================================

PRODUCTOS A VENDER:
CATEGOR√çA 1: HARDWARE GAMING
- Componentes PC (procesadores AMD/Intel, tarjetas gr√°ficas RTX/RX, RAM DDR4/DDR5)
- Perif√©ricos gaming (teclados mec√°nicos, mouses gaming, auriculares)
- Monitores gaming (144Hz+, 4K, ultrawide)
- Accesorios (sillas gamer, gabinetes RGB, cooling)

CATEGOR√çA 2: SOFTWARE & JUEGOS
- Videojuegos PC (Steam, Epic Games, GOG keys)
- Juegos consola (PlayStation, Xbox, Nintendo Switch)
- Software desarrollo (Unity Pro, Unreal Engine, Visual Studio)
- Licencias software (Windows, Office, antivirus gaming)
- DLCs y expansiones

NOMBRE SUGERIDO EMPRESA: "GameVerse" o "GamerZone" o "TechGaming Store"

VENTAJAS DE ESTA TEM√ÅTICA:
‚úÖ Productos f√≠sicos Y virtuales
‚úÖ Mismo target (gamers/desarrolladores)
‚úÖ Amplio rango de precios ($10 - $2000+)
‚úÖ NO son comida (cumple restricci√≥n)
‚úÖ Mercado en crecimiento

========================================================================================================

ESTRUCTURA GENERAL DEL PROYECTO:
1. Proyecto Frontend (Cliente)
2. Proyecto Backend (API + Panel Admin con EJS)
3. Base de Datos (Relacionada con ORM)

========================================================================================================
                                    FASE 1: CONFIGURACI√ìN INICIAL
========================================================================================================

PASO 1.1: CREAR ESTRUCTURA DE CARPETAS
---------------------------------------
Crear la siguiente estructura de directorios:

/proyecto-integrador/
‚îú‚îÄ‚îÄ frontend/                    # Aplicaci√≥n cliente (HTML, CSS, JS)
‚îú‚îÄ‚îÄ backend/                     # Servidor Node.js + Express
‚îî‚îÄ‚îÄ docs/                       # Documentaci√≥n del proyecto

PASO 1.2: INICIALIZAR REPOSITORIO GIT
-------------------------------------
- Crear repositorio en GitHub
- Inicializar git en la carpeta ra√≠z
- Crear .gitignore apropiado
- Hacer commit inicial

========================================================================================================
                                      FASE 2: BACKEND SETUP
========================================================================================================

PASO 2.1: CONFIGURACI√ìN INICIAL DEL BACKEND (CON EXPRESS GENERATOR)
-----------------------------------------------------------------------
Opci√≥n A - Express Generator (RECOMENDADO):
```bash
# Instalar express-generator globalmente
npm install -g express-generator

# Crear proyecto backend con EJS
express --ejs backend
cd backend
npm install
```

Opci√≥n B - Manual:
```bash
cd backend
npm init -y
```

Dependencias adicionales a instalar (tras express generator):
```bash
npm install mysql2
npm install sequelize
npm install bcryptjs
npm install multer
npm install cors
npm install dotenv
npm install express-validator
```

Dependencias de desarrollo:
```bash
npm install --save-dev nodemon
```

VENTAJAS EXPRESS GENERATOR:
‚úÖ Estructura de carpetas autom√°tica
‚úÖ EJS ya configurado
‚úÖ Express configurado con middlewares b√°sicos
‚úÖ Scripts npm predefinidos
‚úÖ Error handling b√°sico incluido

PASO 2.2: ESTRUCTURA DE CARPETAS DEL BACKEND (ADAPTADA PARA EXPRESS GENERATOR)
------------------------------------------------------------------------------
Express Generator crea autom√°ticamente:
backend/
‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îî‚îÄ‚îÄ www                      # Script de inicio del servidor
‚îú‚îÄ‚îÄ public/                      # Archivos est√°ticos (CSS, JS, im√°genes)
‚îÇ   ‚îú‚îÄ‚îÄ images/                  # Im√°genes del admin
‚îÇ   ‚îú‚îÄ‚îÄ javascripts/             # Scripts para vistas EJS
‚îÇ   ‚îî‚îÄ‚îÄ stylesheets/             # Estilos para vistas EJS
‚îú‚îÄ‚îÄ routes/                      # Rutas b√°sicas generadas
‚îÇ   ‚îú‚îÄ‚îÄ index.js                 # Ruta principal
‚îÇ   ‚îî‚îÄ‚îÄ users.js                 # Rutas de usuarios (base)
‚îú‚îÄ‚îÄ views/                       # Templates EJS (ya configurado)
‚îÇ   ‚îú‚îÄ‚îÄ error.ejs               # P√°gina de error
‚îÇ   ‚îú‚îÄ‚îÄ index.ejs               # P√°gina principal
‚îÇ   ‚îî‚îÄ‚îÄ layout.ejs              # Layout base
‚îú‚îÄ‚îÄ app.js                       # Configuraci√≥n principal Express
‚îî‚îÄ‚îÄ package.json                 # Dependencias y scripts

Carpetas ADICIONALES a crear manualmente:
‚îú‚îÄ‚îÄ controllers/                 # L√≥gica de controladores (MVC)
‚îÇ   ‚îú‚îÄ‚îÄ productController.js     # CRUD productos
‚îÇ   ‚îú‚îÄ‚îÄ userController.js        # Login y usuarios
‚îÇ   ‚îú‚îÄ‚îÄ saleController.js        # Manejo de ventas
‚îÇ   ‚îî‚îÄ‚îÄ adminController.js       # Vistas del panel admin
‚îú‚îÄ‚îÄ models/                      # Modelos de base de datos (Sequelize)
‚îÇ   ‚îú‚îÄ‚îÄ index.js                 # Configuraci√≥n Sequelize
‚îÇ   ‚îú‚îÄ‚îÄ Product.js               # Modelo producto
‚îÇ   ‚îú‚îÄ‚îÄ User.js                  # Modelo usuario
‚îÇ   ‚îú‚îÄ‚îÄ Sale.js                  # Modelo venta
‚îÇ   ‚îî‚îÄ‚îÄ SaleProduct.js           # Tabla intermedia ventas-productos
‚îú‚îÄ‚îÄ routes/api/                  # Rutas API (JSON) - NUEVA CARPETA
‚îÇ   ‚îú‚îÄ‚îÄ products.js              # Endpoints productos
‚îÇ   ‚îú‚îÄ‚îÄ users.js                 # Endpoints usuarios
‚îÇ   ‚îî‚îÄ‚îÄ sales.js                 # Endpoints ventas
‚îú‚îÄ‚îÄ routes/admin/                # Rutas vistas HTML (EJS) - NUEVA CARPETA
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                  # Login admin
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.js             # Panel principal
‚îÇ   ‚îî‚îÄ‚îÄ products.js              # CRUD productos (vistas)
‚îú‚îÄ‚îÄ middleware/                  # Middlewares personalizados
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                  # Validaci√≥n de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ validation.js            # Validaci√≥n de datos
‚îÇ   ‚îî‚îÄ‚îÄ upload.js                # Manejo de archivos/im√°genes
‚îú‚îÄ‚îÄ views/admin/                 # Vistas del panel admin - NUEVA CARPETA
‚îÇ   ‚îú‚îÄ‚îÄ login.ejs                # Pantalla login
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.ejs            # Panel principal
‚îÇ   ‚îú‚îÄ‚îÄ product-form.ejs         # Alta/Edici√≥n producto
‚îÇ   ‚îî‚îÄ‚îÄ products.ejs             # Listado productos
‚îú‚îÄ‚îÄ views/partials/              # Componentes reutilizables - NUEVA CARPETA
‚îÇ   ‚îú‚îÄ‚îÄ header.ejs               # Header com√∫n
‚îÇ   ‚îú‚îÄ‚îÄ navbar.ejs               # Navegaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ footer.ejs               # Footer com√∫n
‚îú‚îÄ‚îÄ config/                      # Configuraciones
‚îÇ   ‚îú‚îÄ‚îÄ database.js              # Configuraci√≥n BD
‚îÇ   ‚îî‚îÄ‚îÄ multer.js                # Configuraci√≥n subida archivos
‚îî‚îÄ‚îÄ .env                         # Variables de entorno

PASO 2.3: CONFIGURACI√ìN BASE DE DATOS
-------------------------------------
Archivo: backend/.env
Funci√≥n: Variables de entorno para configuraci√≥n

Contenido:
```
PORT=3000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=tu_password
DB_NAME=integrador_db
JWT_SECRET=tu_secreto_jwt
UPLOAD_PATH=./public/uploads
```

Archivo: backend/config/database.js
Funci√≥n: Configuraci√≥n de conexi√≥n a MySQL

Contenido:
```javascript
const { Sequelize } = require('sequelize');
require('dotenv').config();

const sequelize = new Sequelize(
  process.env.DB_NAME,
  process.env.DB_USER,
  process.env.DB_PASSWORD,
  {
    host: process.env.DB_HOST,
    dialect: 'mysql',
    logging: false
  }
);

module.exports = sequelize;
```

PASO 2.4: MODELOS DE BASE DE DATOS
----------------------------------
Archivo: backend/models/Product.js
Funci√≥n: Modelo de productos con todos los campos necesarios

Campos requeridos:
- id (PRIMARY KEY, AUTO_INCREMENT)
- name (STRING, NOT NULL)
- description (TEXT)
- price (DECIMAL(10,2), NOT NULL)
- image (STRING)
- category (ENUM: 'hardware', 'software') // üéÆ Categor√≠as gaming
- active (BOOLEAN, DEFAULT true)
- createdAt, updatedAt (TIMESTAMPS)

EJEMPLOS DE PRODUCTOS GAMING:
Hardware: "RTX 4070 Gaming", "Teclado Mec√°nico RGB", "Monitor 144Hz"
Software: "Cyberpunk 2077", "Unity Pro License", "Steam Gift Card"

Archivo: backend/models/User.js
Funci√≥n: Modelo de usuarios administradores

Campos requeridos:
- id (PRIMARY KEY, AUTO_INCREMENT)
- email (STRING, UNIQUE, NOT NULL)
- password (STRING, NOT NULL) // Encriptada con bcrypt
- role (ENUM: 'admin') // Para futuras expansiones
- createdAt, updatedAt (TIMESTAMPS)

Archivo: backend/models/Sale.js
Funci√≥n: Modelo de ventas

Campos requeridos:
- id (PRIMARY KEY, AUTO_INCREMENT)
- customerName (STRING, NOT NULL)
- totalAmount (DECIMAL(10,2), NOT NULL)
- saleDate (DATE, DEFAULT NOW)
- createdAt, updatedAt (TIMESTAMPS)

Archivo: backend/models/SaleProduct.js
Funci√≥n: Tabla intermedia para relaci√≥n many-to-many

Campos requeridos:
- saleId (FOREIGN KEY)
- productId (FOREIGN KEY)
- quantity (INTEGER, NOT NULL)
- unitPrice (DECIMAL(10,2), NOT NULL)
- subtotal (DECIMAL(10,2), NOT NULL)

PASO 2.5: ADAPTACI√ìN DEL app.js GENERADO POR EXPRESS
----------------------------------------------------
Express Generator crea un app.js base. Necesitas modificarlo para agregar las funcionalidades del proyecto:

Archivo: backend/app.js (MODIFICAR EL GENERADO)
Funci√≥n: Configuraci√≥n de Express y middlewares

El generator crea algo como:
```javascript
var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');

var indexRouter = require('./routes/index');
var usersRouter = require('./routes/users');

var app = express();

// view engine setup
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');

app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));

app.use('/', indexRouter);
app.use('/users', usersRouter);

// catch 404 and forward to error handler
app.use(function(req, res, next) {
  next(createError(404));
});

// error handler
app.use(function(err, req, res, next) {
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};
  res.status(err.status || 500);
  res.render('error');
});

module.exports = app;
```

MODIFICACIONES NECESARIAS:
1. Agregar cors y dotenv
2. Agregar rutas de API y admin
3. Configurar upload de archivos

C√≥digo modificado:
```javascript
var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var logger = require('morgan');
const cors = require('cors');
require('dotenv').config();

// Rutas originales del generator
var indexRouter = require('./routes/index');
var usersRouter = require('./routes/users');

// Nuevas rutas para el proyecto
const productApiRouter = require('./routes/api/products');
const userApiRouter = require('./routes/api/users');
const saleApiRouter = require('./routes/api/sales');
const adminAuthRouter = require('./routes/admin/auth');
const adminDashboardRouter = require('./routes/admin/dashboard');
const adminProductsRouter = require('./routes/admin/products');

var app = express();

// view engine setup (ya configurado por generator)
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'ejs');

// Middlewares (algunos ya configurados por generator)
app.use(logger('dev'));
app.use(express.json());
app.use(express.urlencoded({ extended: true })); // Cambiar a true
app.use(cookieParser());
app.use(cors()); // Agregar CORS
app.use(express.static(path.join(__dirname, 'public')));

// Crear carpeta uploads si no existe
const uploadsDir = path.join(__dirname, 'public', 'uploads');
if (!require('fs').existsSync(uploadsDir)) {
  require('fs').mkdirSync(uploadsDir, { recursive: true });
}

// Rutas originales del generator
app.use('/', indexRouter);
app.use('/users', usersRouter);

// Nuevas rutas API (JSON)
app.use('/api/products', productApiRouter);
app.use('/api/users', userApiRouter);
app.use('/api/sales', saleApiRouter);

// Nuevas rutas Admin (EJS)
app.use('/admin', adminAuthRouter);
app.use('/admin/dashboard', adminDashboardRouter);
app.use('/admin/products', adminProductsRouter);

// catch 404 and forward to error handler (ya configurado por generator)
app.use(function(req, res, next) {
  next(createError(404));
});

// error handler (ya configurado por generator)
app.use(function(err, req, res, next) {
  res.locals.message = err.message;
  res.locals.error = req.app.get('env') === 'development' ? err : {};
  res.status(err.status || 500);
  res.render('error');
});

module.exports = app;
```

Archivo: backend/bin/www (MODIFICAR EL GENERADO PARA SEQUELIZE)
Funci√≥n: Punto de entrada con sincronizaci√≥n de BD

Express Generator crea el archivo bin/www para iniciar el servidor. 
Necesitas modificarlo para sincronizar Sequelize antes de iniciar:

```javascript
#!/usr/bin/env node

/**
 * Module dependencies.
 */

var app = require('../app');
var debug = require('debug')('backend:server');
var http = require('http');

// Agregar Sequelize para sincronizaci√≥n de BD
const sequelize = require('../config/database');

/**
 * Get port from environment and store in Express.
 */

var port = normalizePort(process.env.PORT || '3000');
app.set('port', port);

/**
 * Create HTTP server.
 */

var server = http.createServer(app);

/**
 * Sincronizar base de datos antes de iniciar servidor
 */

sequelize.sync({ force: false }) // force: true solo en desarrollo
  .then(() => {
    console.log('Base de datos sincronizada');
    
    /**
     * Listen on provided port, on all network interfaces.
     */
    server.listen(port);
    server.on('error', onError);
    server.on('listening', onListening);
  })
  .catch(err => {
    console.error('Error al conectar con la base de datos:', err);
    process.exit(1);
  });

// Resto del c√≥digo generado por Express Generator...
// (funciones normalizePort, onError, onListening)
```

ALTERNATIVA: Mantener server.js separado
Si prefieres mantener la estructura original sugerida, crea:

Archivo: backend/server.js (NUEVO)
Funci√≥n: Inicializaci√≥n con Sequelize

```javascript
const app = require('./app');
const sequelize = require('./config/database');

const PORT = process.env.PORT || 3000;

// Sincronizar base de datos y iniciar servidor
sequelize.sync({ force: false })
  .then(() => {
    console.log('Base de datos sincronizada');
    app.listen(PORT, () => {
      console.log(`Servidor corriendo en puerto ${PORT}`);
    });
  })
  .catch(err => {
    console.error('Error al conectar con la base de datos:', err);
  });
```

Y modificar package.json:
```json
{
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  }
}
```

PASO 2.6: MIDDLEWARES IMPORTANTES
---------------------------------
Archivo: backend/middleware/validation.js
Funci√≥n: Validar datos de entrada con express-validator

Validaciones necesarias:
- Productos: name, price, category, image
- Usuarios: email, password
- Ventas: customerName, products array

Archivo: backend/middleware/upload.js
Funci√≥n: Configurar multer para subida de im√°genes

Configuraci√≥n:
- Destination: ./public/uploads
- Filename: timestamp + original name
- File filter: solo im√°genes (jpg, png, gif)
- Size limit: 5MB m√°ximo

Archivo: backend/middleware/auth.js
Funci√≥n: Verificar autenticaci√≥n para rutas protegidas

========================================================================================================
                                 FASE 3: CONTROLADORES BACKEND
========================================================================================================

PASO 3.1: CONTROLADOR DE PRODUCTOS (API)
----------------------------------------
Archivo: backend/controllers/productController.js
Funci√≥n: CRUD completo de productos para API JSON

M√©todos necesarios:
- getAllProducts(): Obtener todos los productos activos (con paginaci√≥n)
- getProductById(): Obtener un producto espec√≠fico
- createProduct(): Crear nuevo producto (con imagen)
- updateProduct(): Actualizar producto existente
- deleteProduct(): Baja l√≥gica (active = false)
- activateProduct(): Reactivar producto (active = true)

PASO 3.2: CONTROLADOR DE VENTAS
-------------------------------
Archivo: backend/controllers/saleController.js
Funci√≥n: Manejar operaciones de ventas

M√©todos necesarios:
- createSale(): Procesar nueva venta
- getAllSales(): Listar todas las ventas (con productos)
- getSaleById(): Obtener venta espec√≠fica
- getSalesStats(): Estad√≠sticas de ventas

PASO 3.3: CONTROLADOR DE USUARIOS
---------------------------------
Archivo: backend/controllers/userController.js
Funci√≥n: Autenticaci√≥n y manejo de usuarios

M√©todos necesarios:
- login(): Validar credenciales
- createAdmin(): Crear usuario administrador
- hashPassword(): Encriptar contrase√±a
- comparePassword(): Validar contrase√±a

PASO 3.4: CONTROLADOR ADMIN (EJS)
---------------------------------
Archivo: backend/controllers/adminController.js
Funci√≥n: Renderizar vistas del panel administrativo

M√©todos necesarios:
- showLogin(): Mostrar formulario login
- showDashboard(): Mostrar panel principal
- showProducts(): Listado productos con acciones
- showProductForm(): Formulario alta/edici√≥n

========================================================================================================
                                    FASE 4: RUTAS BACKEND
========================================================================================================

PASO 4.1: RUTAS API PRODUCTOS
-----------------------------
Archivo: backend/routes/api/products.js
Funci√≥n: Endpoints JSON para productos

Rutas necesarias:
- GET /api/products - Listar productos activos (paginado)
- GET /api/products/:id - Obtener producto espec√≠fico
- POST /api/products - Crear producto
- PUT /api/products/:id - Actualizar producto
- DELETE /api/products/:id - Eliminar producto (baja l√≥gica)
- PATCH /api/products/:id/activate - Reactivar producto

PASO 4.2: RUTAS API VENTAS
--------------------------
Archivo: backend/routes/api/sales.js
Funci√≥n: Endpoints JSON para ventas

Rutas necesarias:
- POST /api/sales - Crear nueva venta
- GET /api/sales - Listar todas las ventas
- GET /api/sales/:id - Obtener venta espec√≠fica

PASO 4.3: RUTAS API USUARIOS
----------------------------
Archivo: backend/routes/api/users.js
Funci√≥n: Endpoints JSON para usuarios

Rutas necesarias:
- POST /api/users/login - Login de administrador
- POST /api/users/register - Crear admin (endpoint protegido)

PASO 4.4: RUTAS ADMIN (EJS)
---------------------------
Archivo: backend/routes/admin/auth.js
Funci√≥n: Rutas de autenticaci√≥n admin

Rutas necesarias:
- GET /admin/login - Mostrar formulario login
- POST /admin/login - Procesar login
- GET /admin/logout - Cerrar sesi√≥n

Archivo: backend/routes/admin/dashboard.js
Funci√≥n: Panel principal administrativo

Rutas necesarias:
- GET /admin/dashboard - Panel principal con estad√≠sticas

Archivo: backend/routes/admin/products.js
Funci√≥n: CRUD productos con vistas EJS

Rutas necesarias:
- GET /admin/products - Listado productos
- GET /admin/products/new - Formulario nuevo producto
- POST /admin/products - Crear producto
- GET /admin/products/:id/edit - Formulario edici√≥n
- PUT /admin/products/:id - Actualizar producto
- DELETE /admin/products/:id - Eliminar producto

========================================================================================================
                                   FASE 5: VISTAS EJS BACKEND
========================================================================================================

PASO 5.1: ADAPTACI√ìN DEL LAYOUT GENERADO POR EXPRESS
---------------------------------------------------
Express Generator crea views/layout.ejs. Necesitas adaptarlo para el proyecto:

Archivo: backend/views/layout.ejs (MODIFICAR EL GENERADO)
Funci√≥n: Template base adaptado para panel administrativo

El generator crea algo b√°sico como:
```html
<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <%- body %>
  </body>
</html>
```

MODIFICARLO A:
```html
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title || 'Panel Administrativo' %> - GameVerse</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Estilos personalizados -->
    <link rel='stylesheet' href='/stylesheets/style.css' />
</head>
<body>
    <!-- Header -->
    <header class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/admin/dashboard">
                <img src="/images/logo.png" alt="Logo" width="30" height="30" class="me-2">
                GameVerse - Admin
            </a>
            
            <nav class="navbar-nav ms-auto">
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user"></i> Admin
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/admin/dashboard">Dashboard</a></li>
                        <li><a class="dropdown-item" href="/admin/products">Productos</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/admin/logout">Cerrar Sesi√≥n</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <!-- Navegaci√≥n secundaria -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <div class="container-fluid">
            <div class="navbar-nav">
                <a class="nav-link" href="/admin/dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a class="nav-link" href="/admin/products">
                    <i class="fas fa-box"></i> Productos
                </a>
                <a class="nav-link" href="/" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Ver Tienda
                </a>
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <main class="container-fluid py-4">
        <!-- Alerts para mensajes -->
        <% if (typeof success !== 'undefined' && success) { %>
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <%= success %>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        <% } %>
        
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <%= error %>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        <% } %>

        <!-- Contenido din√°mico -->
        <%- body %>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-auto">
        <div class="container">
            <p>&copy; 2025 GameVerse - Desarrollado por: NOMBRE_ALUMNO_1 y NOMBRE_ALUMNO_2</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/javascripts/admin.js"></script>
</body>
</html>
```

PASO 5.2: VISTA LOGIN ADMIN
---------------------------
Archivo: backend/views/admin/login.ejs
Funci√≥n: Formulario de acceso administrativo

Elementos requeridos:
- Formulario con email y password
- Bot√≥n de acceso r√°pido (autocompletar credenciales)
- Validaci√≥n client-side y server-side
- Mensajes de error
- Enlace para volver al frontend

PASO 5.3: VISTA DASHBOARD
-------------------------
Archivo: backend/views/admin/dashboard.ejs
Funci√≥n: Panel principal administrativo

Elementos requeridos:
- Resumen de estad√≠sticas (productos activos, ventas, etc.)
- Botones de acceso r√°pido a secciones
- Listado reciente de ventas
- Gr√°ficos simples de ser posible

PASO 5.4: VISTA GESTI√ìN PRODUCTOS
---------------------------------
Archivo: backend/views/admin/products.ejs
Funci√≥n: Listado completo productos con acciones

Elementos requeridos:
- Tabla con todos los productos (activos e inactivos)
- Filtros por categor√≠a y estado
- Botones: Agregar, Editar, Eliminar, Activar
- Paginaci√≥n
- Indicador visual del estado (activo/inactivo)
- Previsualizaci√≥n de imagen

PASO 5.5: VISTA FORMULARIO PRODUCTO
-----------------------------------
Archivo: backend/views/admin/product-form.ejs
Funci√≥n: Formulario alta/edici√≥n productos

Elementos requeridos:
- Campos: nombre, descripci√≥n, precio, categor√≠a
- Upload de imagen con preview
- Validaci√≥n en tiempo real
- Botones guardar y cancelar
- Manejo de errores de validaci√≥n

========================================================================================================
                                     FASE 6: FRONTEND SETUP
========================================================================================================

PASO 6.1: ESTRUCTURA FRONTEND
-----------------------------
frontend/
‚îú‚îÄ‚îÄ index.html                   # P√°gina principal (bienvenida)
‚îú‚îÄ‚îÄ products.html               # Pantalla productos
‚îú‚îÄ‚îÄ cart.html                   # Pantalla carrito
‚îú‚îÄ‚îÄ ticket.html                 # Pantalla ticket final
‚îú‚îÄ‚îÄ css/                        # Estilos de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ styles.css              # Estilos principales
‚îÇ   ‚îú‚îÄ‚îÄ themes.css              # Temas claro/oscuro
‚îÇ   ‚îú‚îÄ‚îÄ responsive.css          # Media queries
‚îÇ   ‚îî‚îÄ‚îÄ components.css          # Estilos de componentes
‚îú‚îÄ‚îÄ js/                         # Scripts de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ app.js                  # Script principal
‚îÇ   ‚îú‚îÄ‚îÄ api.js                  # Comunicaci√≥n con backend
‚îÇ   ‚îú‚îÄ‚îÄ cart.js                 # Manejo del carrito
‚îÇ   ‚îú‚îÄ‚îÄ products.js             # Gesti√≥n productos
‚îÇ   ‚îú‚îÄ‚îÄ themes.js               # Cambio de temas
‚îÇ   ‚îú‚îÄ‚îÄ pagination.js           # Paginaci√≥n productos
‚îÇ   ‚îî‚îÄ‚îÄ pdf-generator.js        # Generaci√≥n PDF ticket
‚îú‚îÄ‚îÄ assets/                     # Recursos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ images/                 # Im√°genes de la app
‚îÇ   ‚îú‚îÄ‚îÄ icons/                  # Iconos
‚îÇ   ‚îî‚îÄ‚îÄ fonts/                  # Fuentes personalizadas
‚îú‚îÄ‚îÄ config/                     # Configuraciones
‚îÇ   ‚îî‚îÄ‚îÄ config.js               # URLs de API y configuraciones
‚îî‚îÄ‚îÄ components/                 # Componentes reutilizables
    ‚îú‚îÄ‚îÄ navbar.js               # Barra de navegaci√≥n
    ‚îú‚îÄ‚îÄ product-card.js         # Tarjeta de producto
    ‚îî‚îÄ‚îÄ modal.js                # Modales reutilizables

PASO 6.2: CONFIGURACI√ìN INICIAL FRONTEND
----------------------------------------
Archivo: frontend/config/config.js
Funci√≥n: Configuraciones centralizadas

Contenido:
```javascript
const CONFIG = {
    API_BASE_URL: 'http://localhost:3000/api',
    ADMIN_URL: 'http://localhost:3000/admin/login',
    ITEMS_PER_PAGE: 6,
    THEMES: {
        LIGHT: 'light',
        DARK: 'dark'
    },
    PRODUCT_CATEGORIES: {
        CATEGORY_1: 'categoria1',  // Definir seg√∫n productos elegidos
        CATEGORY_2: 'categoria2'
    },
    LOCAL_STORAGE_KEYS: {
        CUSTOMER_NAME: 'customerName',
        CART: 'shoppingCart',
        THEME: 'selectedTheme'
    }
};
```

========================================================================================================
                                  FASE 7: PANTALLAS FRONTEND
========================================================================================================

PASO 7.1: PANTALLA BIENVENIDA
-----------------------------
Archivo: frontend/index.html
Funci√≥n: Punto de entrada de la aplicaci√≥n

Elementos requeridos:
- Logo y nombre de la aplicaci√≥n
- Nombre de los alumnos
- Formulario para ingresar nombre del cliente
- Validaci√≥n: no permite continuar sin nombre
- Bot√≥n continuar que redirige a productos.html
- Bot√≥n acceso admin
- Selector de tema (claro/oscuro)
- Dise√±o responsive y atractivo

Archivo: frontend/js/app.js (funciones para index.html)
Funciones necesarias:
- validateCustomerName(): Validar que se ingrese nombre
- saveCustomerName(): Guardar nombre en localStorage
- redirectToProducts(): Redirigir a productos
- loadSavedTheme(): Cargar tema guardado

PASO 7.2: PANTALLA PRODUCTOS
----------------------------
Archivo: frontend/products.html
Funci√≥n: Mostrar cat√°logo de productos por categor√≠as

Elementos requeridos:
- Header con logo, nombre app, nombre alumnos
- Navegaci√≥n entre categor√≠as (tabs o botones)
- Grid responsive de productos
- Cada producto debe mostrar:
  * Imagen
  * Nombre
  * Descripci√≥n
  * Precio
  * Botones +/- para cantidad
  * Bot√≥n agregar al carrito
- Contador de items en carrito (header)
- Paginaci√≥n de productos
- Bot√≥n ir al carrito
- Selector de tema

Archivo: frontend/js/products.js
Funciones necesarias:
- loadProducts(): Cargar productos desde API
- filterByCategory(): Filtrar por categor√≠a
- paginateProducts(): Implementar paginaci√≥n
- addToCart(): Agregar producto al carrito
- updateCartCounter(): Actualizar contador carrito
- showProductDetails(): Mostrar detalles en modal

PASO 7.3: PANTALLA CARRITO
--------------------------
Archivo: frontend/cart.html
Funci√≥n: Gestionar productos seleccionados

Elementos requeridos:
- Header com√∫n
- Lista de productos en carrito:
  * Imagen miniatura
  * Nombre y precio
  * Controles cantidad (+/-)
  * Subtotal por producto
  * Bot√≥n eliminar
- Total general de la compra
- Bot√≥n continuar comprando (volver a productos)
- Bot√≥n proceder al pago
- Modal confirmaci√≥n de compra
- Carrito vac√≠o: mensaje y bot√≥n volver

Archivo: frontend/js/cart.js
Funciones necesarias:
- loadCart(): Cargar carrito desde localStorage
- updateQuantity(): Modificar cantidad producto
- removeFromCart(): Eliminar producto del carrito
- calculateTotal(): Calcular total de la compra
- showConfirmationModal(): Modal confirmar compra
- processPurchase(): Enviar venta a backend
- clearCart(): Limpiar carrito tras compra

PASO 7.4: PANTALLA TICKET
-------------------------
Archivo: frontend/ticket.html
Funci√≥n: Mostrar comprobante de compra

Elementos requeridos:
- Header con logo empresa
- Informaci√≥n del ticket:
  * N√∫mero de venta (ID)
  * Nombre del cliente
  * Fecha y hora
  * Lista de productos comprados:
    - Nombre producto
    - Cantidad
    - Precio unitario
    - Subtotal
  * Total de la compra
- Bot√≥n descargar PDF
- Bot√≥n nueva compra (reiniciar proceso)
- Dise√±o optimizado para impresi√≥n

Archivo: frontend/js/pdf-generator.js
Funciones necesarias:
- generatePDF(): Crear PDF del ticket
- formatTicketData(): Formatear datos para PDF
- downloadPDF(): Descargar archivo PDF

========================================================================================================
                                   FASE 8: COMUNICACI√ìN API
========================================================================================================

PASO 8.1: M√ìDULO API FRONTEND
-----------------------------
Archivo: frontend/js/api.js
Funci√≥n: Centralizar comunicaci√≥n con backend

Funciones necesarias:
```javascript
const API = {
    // Productos
    getProducts: async (page = 1, category = null) => {
        // GET /api/products?page=1&category=categoria1
    },
    
    getProductById: async (id) => {
        // GET /api/products/:id
    },
    
    // Ventas
    createSale: async (saleData) => {
        // POST /api/sales
        // Body: { customerName, products: [{id, quantity, price}] }
    },
    
    // Utilidades
    handleResponse: async (response) => {
        // Manejo centralizado de respuestas
    },
    
    handleError: (error) => {
        // Manejo centralizado de errores
    }
};
```

PASO 8.2: ESTRUCTURA DATOS API
------------------------------
Formato de datos para comunicaci√≥n:

Producto:
```json
{
    "id": 1,
    "name": "Producto Ejemplo",
    "description": "Descripci√≥n del producto",
    "price": 29.99,
    "image": "/uploads/producto-1.jpg",
    "category": "categoria1",
    "active": true
}
```

Venta:
```json
{
    "customerName": "Juan P√©rez",
    "products": [
        {
            "productId": 1,
            "quantity": 2,
            "unitPrice": 29.99
        }
    ],
    "totalAmount": 59.98
}
```

========================================================================================================
                                     FASE 9: ESTILOS CSS
========================================================================================================

PASO 9.1: ESTILOS PRINCIPALES
-----------------------------
Archivo: frontend/css/styles.css
Funci√≥n: Estilos base de la aplicaci√≥n

Secciones necesarias:
- Reset CSS y normalize
- Tipograf√≠as y colores principales
- Layout general (grid, flexbox)
- Botones y formularios
- Tarjetas de productos
- Carrito de compras
- Navegaci√≥n

PASO 9.2: TEMAS CLARO/OSCURO
----------------------------
Archivo: frontend/css/themes.css
Funci√≥n: Variables CSS para m√∫ltiples temas

Estructura:
```css
:root {
    /* Tema claro */
    --bg-primary: #ffffff;
    --bg-secondary: #f8f9fa;
    --text-primary: #333333;
    --text-secondary: #666666;
    --accent-color: #007bff;
}

[data-theme="dark"] {
    /* Tema oscuro */
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --accent-color: #00d4ff;
}
```

PASO 9.3: RESPONSIVE DESIGN
---------------------------
Archivo: frontend/css/responsive.css
Funci√≥n: Media queries para dispositivos m√≥viles

Breakpoints necesarios:
- Mobile: 320px - 768px
- Tablet: 768px - 1024px
- Desktop: 1024px+

Adaptaciones necesarias:
- Grid de productos (1 col mobile, 2 tablet, 3+ desktop)
- Navegaci√≥n (hamburger menu en mobile)
- Tama√±os de fuente escalables
- Botones touch-friendly en m√≥vil

========================================================================================================
                                 FASE 10: FUNCIONALIDADES AVANZADAS
========================================================================================================

PASO 10.1: GESTI√ìN TEMAS
------------------------
Archivo: frontend/js/themes.js
Funci√≥n: Cambio y persistencia de temas

Funciones necesarias:
- initTheme(): Cargar tema guardado al inicio
- toggleTheme(): Cambiar entre claro y oscuro
- saveTheme(): Guardar en localStorage
- applyTheme(): Aplicar tema al DOM

PASO 10.2: PAGINACI√ìN PRODUCTOS
-------------------------------
Archivo: frontend/js/pagination.js
Funci√≥n: Navegaci√≥n por p√°ginas de productos

Funciones necesarias:
- createPagination(): Crear controles paginaci√≥n
- goToPage(): Ir a p√°gina espec√≠fica
- updatePaginationUI(): Actualizar interfaz
- handlePageChange(): Manejar cambio de p√°gina

PASO 10.3: VALIDACIONES CLIENT-SIDE
-----------------------------------
Validaciones necesarias:
- Nombre cliente: no vac√≠o, solo letras y espacios
- Cantidad productos: n√∫meros positivos
- Formularios admin: campos requeridos
- Tama√±o archivos: im√°genes max 5MB
- Formato archivos: solo jpg, png, gif

========================================================================================================
                                   FASE 11: TESTING Y DATOS DEMO
========================================================================================================

PASO 11.1: DATOS DE PRUEBA - PRODUCTOS GAMING
--------------------------------------------
Crear script para poblar base de datos:

Usuario administrador:
- Email: admin@gameverse.com
- Password: admin123

Productos gaming de ejemplo (m√≠nimo 10 por categor√≠a):

HARDWARE GAMING:
- RTX 4070 Super Gaming ($599.99)
- Teclado Mec√°nico RGB K95 ($149.99)
- Monitor Gaming 27" 144Hz ($329.99)
- Auriculares Gaming 7.1 ($89.99)
- Mouse Gaming Pro ($79.99)
- Silla Gamer RGB ($299.99)
- Ryzen 7 5800X ($349.99)
- RAM DDR4 32GB Gaming ($159.99)

SOFTWARE & JUEGOS:
- Cyberpunk 2077 GOTY ($39.99)
- Unity Pro License ($185.00)
- The Witcher 3 Complete ($19.99)
- Steam Gift Card $50 ($50.00)
- Assassin's Creed Valhalla ($49.99)
- Call of Duty MW3 ($69.99)
- Visual Studio Pro ($499.99)
- Windows 11 Pro ($199.99)

- Algunos productos inactivos para probar reactivaci√≥n
- Im√°genes gaming para todos los productos

PASO 11.2: SCRIPT INICIALIZACI√ìN
--------------------------------
Archivo: backend/scripts/seed-database.js
Funci√≥n: Poblar BD con datos de prueba

Ejecutar para generar:
- Usuario administrador con password encriptada
- 20+ productos gaming distribuidos en hardware/software
- Algunas ventas gaming de ejemplo
- Configuraci√≥n inicial de GameVerse

========================================================================================================
                                      FASE 12: DEPLOYMENT
========================================================================================================

PASO 12.1: PREPARACI√ìN PARA PRODUCCI√ìN
--------------------------------------
Backend:
- Variables de entorno para producci√≥n
- Configuraci√≥n base de datos remota
- Optimizaci√≥n de consultas
- Logs de errores

Frontend:
- Minificaci√≥n CSS/JS
- Optimizaci√≥n de im√°genes
- URLs de API para producci√≥n
- Service worker para cache (opcional)

PASO 12.2: DOCUMENTACI√ìN
------------------------
Crear archivos README:
- Instrucciones de instalaci√≥n
- Comandos para ejecutar
- Configuraci√≥n base de datos
- Endpoints de la API
- Capturas de pantalla

========================================================================================================
                              COMANDOS EXPRESS GENERATOR - GU√çA R√ÅPIDA
========================================================================================================

INSTALACI√ìN Y SETUP R√ÅPIDO:
```bash
# 1. Instalar express-generator
npm install -g express-generator

# 2. Crear proyecto backend con EJS
express --ejs backend

# 3. Entrar al directorio e instalar dependencias base
cd backend
npm install

# 4. Instalar dependencias adicionales del proyecto
npm install mysql2 sequelize bcryptjs multer cors dotenv express-validator

# 5. Instalar dependencias de desarrollo
npm install --save-dev nodemon

# 6. Modificar scripts en package.json
# Agregar: "dev": "nodemon ./bin/www"

# 7. Crear carpetas adicionales necesarias
mkdir controllers models middleware config
mkdir routes/api routes/admin views/admin views/partials

# 8. Ejecutar servidor
npm start
# o para desarrollo:
npm run dev
```

ARCHIVOS QUE EXPRESS GENERATOR CREA AUTOM√ÅTICAMENTE:
‚úÖ package.json con dependencias b√°sicas
‚úÖ app.js configurado con Express y EJS
‚úÖ bin/www como punto de entrada del servidor
‚úÖ public/ para archivos est√°ticos
‚úÖ routes/ con rutas b√°sicas (index.js, users.js)
‚úÖ views/ con EJS configurado (layout.ejs, index.ejs, error.ejs)
‚úÖ Estructura b√°sica de middlewares

ARCHIVOS QUE NECESITAS CREAR/MODIFICAR:
üîß Modificar app.js para agregar rutas API y admin
üîß Modificar views/layout.ejs para el dise√±o admin
üîß Modificar bin/www para sincronizaci√≥n Sequelize
üîß Crear todas las carpetas y archivos del proyecto (controllers, models, etc.)

========================================================================================================

‚úÖ BACKEND COMPLETO:
- [ ] Base de datos con modelos y relaciones
- [ ] API JSON funcionando (CRUD productos, ventas)
- [ ] Panel admin con EJS (login, dashboard, CRUD productos)
- [ ] Autenticaci√≥n y autorizaci√≥n
- [ ] Validaciones y middlewares
- [ ] Subida de im√°genes
- [ ] Paginaci√≥n implementada
- [ ] Contrase√±as encriptadas

‚úÖ FRONTEND COMPLETO:
- [ ] 4 pantallas principales funcionando
- [ ] Comunicaci√≥n con API backend
- [ ] Carrito de compras persistente
- [ ] Temas claro/oscuro
- [ ] Dise√±o responsive
- [ ] Generaci√≥n PDF ticket
- [ ] Paginaci√≥n de productos
- [ ] Validaciones client-side

‚úÖ FUNCIONALIDADES ESPEC√çFICAS:
- [ ] Nombre obligatorio antes de comprar
- [ ] Productos divididos en 2 categor√≠as
- [ ] Alta, baja y modificaci√≥n de productos
- [ ] Baja l√≥gica (activo/inactivo)
- [ ] Ticket con todos los datos requeridos
- [ ] Modal confirmaci√≥n de compra
- [ ] Bot√≥n acceso r√°pido admin
- [ ] Navegaci√≥n entre todas las pantallas

‚úÖ REQUERIMIENTOS T√âCNICOS:
- [ ] Node.js + Express
- [ ] MySQL + Sequelize ORM
- [ ] EJS para vistas admin
- [ ] Responsive design
- [ ] Git con commits de ambos integrantes
- [ ] Estructura MVC
- [ ] C√≥digo limpio y comentado

========================================================================================================
                                         CRONOGRAMA SUGERIDO
========================================================================================================

SEMANA 1-2: Setup y Backend Base
- Configuraci√≥n inicial del proyecto
- Modelos de base de datos
- API b√°sica de productos

SEMANA 3-4: Backend Completo
- Panel administrativo con EJS
- Autenticaci√≥n y CRUD completo
- Validaciones y middlewares

SEMANA 5-6: Frontend Base
- Pantallas principales
- Comunicaci√≥n con API
- Carrito de compras b√°sico

SEMANA 7-8: Integraci√≥n y Features
- Conexi√≥n frontend-backend
- Funcionalidades avanzadas
- Temas y responsive

SEMANA 9-10: Testing y Pulido
- Pruebas integrales
- Correcci√≥n de bugs
- Documentaci√≥n y deployment

========================================================================================================
                                            NOTAS IMPORTANTES
========================================================================================================

1. AMBOS integrantes deben trabajar en AMBAS partes del proyecto
2. Realizar commits frecuentes con mensajes descriptivos
3. Probar constantemente la comunicaci√≥n frontend-backend
4. Mantener el c√≥digo limpio y bien comentado
5. Documentar las decisiones t√©cnicas importantes
6. Hacer backups regulares del trabajo
7. Preparar datos de prueba suficientes para la evaluaci√≥n

Este archivo debe servir como gu√≠a completa para el desarrollo del proyecto integrador.
Seguir los pasos en orden garantiza una implementaci√≥n exitosa de todos los requerimientos.

========================================================================================================